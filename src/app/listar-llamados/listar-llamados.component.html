<app-alta-llamado></app-alta-llamado>

<form (ngSubmit)="aplicarFiltros()">
      <div class="row">
        <div class="col-sm-12 col-md-6 col-lg-4">
          <div class="form-group">
            <label for="filtroNombre">Nombre:</label>
            <input class="form-control" type="text" id="filtroNombre" [(ngModel)]="filtroNombre" name="filtroNombre">
            <label for="filtroNombre">Identificador:</label>
            <input class="form-control" type="text" id="filtroNombre" [(ngModel)]="filtroIdentificador" name="filtroNombre">
          </div>
        </div>

        <div class="col-sm-12 col-md-6 col-lg-4 d-flex align-items-end">
          <div class="form-group">
            <div class="btn-group" role="group" aria-label="Filtro de activo">
              <button type="button" class="btn btn-outline-primary" [ngClass]="{ 'active': filtroActivo === true }"
                (click)="filtroActivo = true">Activo</button>
              <button type="button" class="btn btn-outline-primary" [ngClass]="{ 'active': filtroActivo === false }"
                (click)="filtroActivo = false">Inactivo</button>
            </div>
          </div>
        </div>

        <div class="col-12 d-flex justify-content-end" style="padding-right: 20px; margin: 10px;">
          <button class="btn btn-primary" type="submit">Aplicar filtro</button>
        </div>
      </div>
    </form>

<table class="table"> 
  <thead>
    <tr>
      <th>Identificador</th>
      <th>Nombre</th>
      <th>Link Planilla Puntajes</th>
      <th>Link Acta</th>
      <th>Minutos Entrevista</th>
      <th>Área</th>
      <th>Estado</th>
      <th>Modificar Estado</th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let llamado of llamados">
      <td>{{ llamado.identificador }}</td>
      <td>{{ llamado.nombre }}</td>
      <td>{{ llamado.linkPlanillaPuntajes }}</td>
      <td>{{ llamado.linkActa }}</td>
      <td>{{ llamado.minutosEntrevista }}</td>
      <td>{{ llamado.area.nombre }}</td>
      <td>{{ llamado.ultimoEstado.llamadoEstadoPosible.nombre }}</td>
      <td>
        <button class="btn btn-primary" [routerLink]="['/agregar-estado-llamado', llamado.id, llamado.ultimoEstado.llamadoEstadoPosibleId, 1]"  style="margin-right: 10px;">
          <i class="fas fa-arrow-up"></i>
        </button>
        
        <button class="btn btn-primary" [routerLink]="['/agregar-estado-llamado', llamado.id, llamado.ultimoEstado.llamadoEstadoPosibleId, 0]" style="margin-left: 10px; ">
          <i class="fas fa-arrow-down"></i>
        </button>
      </td>
      
      <td>
        <a class="btn btn-primary btn-sm" [routerLink]="['/listar-postulantes-llamado', llamado.id, llamado.nombre, llamado.identificador]">Postulantes</a>
      </td>
      <td>  
        <button class="btn btn-primary btn-sm" [routerLink]="['/ver-tribunal', llamado.id]">Tribunal</button>
      </td>  
      <td>
        <button class="btn btn-primary btn-sm">Estados</button>
      </td>
    </tr>
  </tbody>
</table>
<nav aria-label="Paginación" *ngIf="totalPages > 1">
  <ul class="pagination mt-3">
    <li class="page-item" [class.disabled]="currentPage === 1">
      <a class="page-link" (click)="cambiarPagina(currentPage - 1)">Anterior</a>
    </li>
    <li class="page-item" *ngFor="let page of obtenerPaginas()" [class.active]="currentPage === page">
      <a class="page-link" (click)="cambiarPagina(page)">{{ page }}</a>
    </li>
    <li class="page-item" [class.disabled]="currentPage === totalPages">
      <a class="page-link" (click)="cambiarPagina(currentPage + 1)">Siguiente</a>
    </li>
  </ul>
</nav>